(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["4c7b74f2"],{"0041":function(e,t,n){"use strict";var s=n("503e"),a=n.n(s);a.a},"4e78":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",[n("div",{staticClass:"flex flex-center"},[n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Forwards","hide-bottom":"",dense:"",data:this.forwardsInfo,columns:this.columns,"row-key":"name","rows-per-page-options":[0],pagination:this.pagination},on:{"update:pagination":function(t){return e.$set(this,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[n("q-tr",{class:{"player-out":"Y"!==t.row.rosterStatus},attrs:{props:t}},[n("q-td",{key:"name",attrs:{props:t}},[!e.selectedForwards.includes(t.row.name)&&e.selectedForwards.length<12?n("button",{on:{click:function(n){return e.selectForward(t.row.name)}}},[e._v("+")]):e._e(),e.selectedForwards.includes(t.row.name)?n("button",{on:{click:function(n){return e.unselectForward(t.row.name)}}},[e._v("-")]):e._e(),n("img",{staticClass:"team-logo-table",attrs:{src:e.getTeamLogo(t.row.teamId)}}),e._v("\n                      "+e._s(t.row.name)+"\n                  ")]),n("q-td",{key:"games",attrs:{props:t}},[e._v("\n                      "+e._s(t.row.games)+"\n                  ")]),n("q-td",{key:"score",attrs:{props:t}},[e._v("\n                      "+e._s(parseFloat(Math.round(1e3*t.row.score)/1e3).toFixed(3))+"\n                  ")])],1)]}}])})],1),n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Defensemen","hide-bottom":"",dense:"",data:this.defensemenInfo,columns:this.columns,"row-key":"name","rows-per-page-options":[0],pagination:this.pagination},on:{"update:pagination":function(t){return e.$set(this,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[n("q-tr",{class:{"player-out":"Y"!==t.row.rosterStatus},attrs:{props:t}},[n("q-td",{key:"name",attrs:{props:t}},[!e.selectedDefensemen.includes(t.row.name)&&e.selectedDefensemen.length<4?n("button",{on:{click:function(n){return e.selectDefenseman(t.row.name)}}},[e._v("+")]):e._e(),e.selectedDefensemen.includes(t.row.name)?n("button",{on:{click:function(n){return e.unselectDefenseman(t.row.name)}}},[e._v("-")]):e._e(),n("img",{staticClass:"team-logo-table",attrs:{src:e.getTeamLogo(t.row.teamId)}}),e._v("\n                    "+e._s(t.row.name)+"\n                ")]),n("q-td",{key:"games",attrs:{props:t}},[e._v("\n                    "+e._s(t.row.games)+"\n                ")]),n("q-td",{key:"score",attrs:{props:t}},[e._v("\n                    "+e._s(parseFloat(Math.round(1e3*t.row.score)/1e3).toFixed(3))+"\n                ")])],1)]}}])})],1),n("div",{staticClass:"q-pa-md"},[n("q-table",{attrs:{title:"Goaltenders","hide-bottom":"",dense:"",data:this.goaltendersInfo,columns:this.columns,"row-key":"name","rows-per-page-options":[0],pagination:this.pagination},on:{"update:pagination":function(t){return e.$set(this,"pagination",t)}},scopedSlots:e._u([{key:"body",fn:function(t){return[n("q-tr",{class:{"player-out":"Y"!==t.row.rosterStatus},attrs:{props:t}},[n("q-td",{key:"name",attrs:{props:t}},[!e.selectedGoaltenders.includes(t.row.name)&&e.selectedGoaltenders.length<1?n("button",{on:{click:function(n){return e.selectGoaltender(t.row.name)}}},[e._v("+")]):e._e(),e.selectedGoaltenders.includes(t.row.name)?n("button",{on:{click:function(n){return e.unselectGoaltender(t.row.name)}}},[e._v("-")]):e._e(),n("img",{staticClass:"team-logo-table",attrs:{src:e.getTeamLogo(t.row.teamId)}}),e._v("\n                    "+e._s(t.row.name)+"\n                ")]),n("q-td",{key:"games",attrs:{props:t}},[e._v("\n                    "+e._s(t.row.games)+"\n                ")]),n("q-td",{key:"score",attrs:{props:t}},[e._v("\n                    "+e._s(parseFloat(Math.round(1e3*t.row.score)/1e3).toFixed(3))+"\n                ")])],1)]}}])})],1)]),n("div",{staticClass:"flex flex-center column"},[n("div",[n("ol",e._l(this.selectedForwards,(function(t){return n("li",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),0)]),n("div",[n("ol",e._l(this.selectedDefensemen,(function(t){return n("li",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),0)]),n("div",[n("ol",e._l(this.selectedGoaltenders,(function(t){return n("li",{key:t},[e._v("\n          "+e._s(t)+"\n        ")])})),0)])])])},a=[],o=(n("551c"),n("ac6a"),n("cadf"),n("06db"),n("5df3"),n("bc3a")),r=n.n(o),i={name:"Recommended",data:function(){return{loading:!0,loadingMessage:"Getting teams info",error:!1,forwardsIds:["8475158","8479318","8471214","8475765","8477497","8477496","8479343","8479400","8476539","8479337","8478873","8481559","8480208","8478466","8481533","8480031","8478106","8480028","8475744","8482124","8471685","8477416","8476458","8481580","8478099","8477503","8476479","8478856"],defensemenIds:["8480839","8480865","8477950","8480073","8479982","8479976","8478460","8478500","8475906","8476979","8477504","8478038","8480817"],goaltendersIds:["8471695","8480925","8476876","8477480","8476945","8477361"],teamsIds:[1,2,3,4,5,6,7,8,9,10,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,28,29,30,52,53,54],teamsInfo:[],forwardsInfo:[],defensemenInfo:[],goaltendersInfo:[],selectedForwards:[],selectedDefensemen:[],selectedGoaltenders:[],peopleEndpoint:"https://statsapi.web.nhl.com/api/v1/people/",scheduleEndpoint:"https://statsapi.web.nhl.com/api/v1/schedule/?teamId=",teamsEndpoint:"https://statsapi.web.nhl.com/api/v1/teams/",peopleSuffix:"/stats?stats=gameLog",teamsSuffix:"/stats?stats=statsSingleSeason",pagination:{page:1,rowsPerPage:0,sortBy:"score",descending:!0},columns:[{name:"name",label:"Player",field:"name",sortable:!0,align:"left"},{name:"games",label:"Games",field:"games",sortable:!0},{name:"score",label:"Score",field:"score",sortable:!0}]}},methods:{getPlayersScores:function(){var e=this;this.forwardsIds.forEach((function(t){var n={name:"",games:0,score:0,teamId:0},s=[];s.push(r.a.get(e.peopleEndpoint+t)),s.push(r.a.get(e.peopleEndpoint+t+e.peopleSuffix)),Promise.all(s).then((function(t){var s=t[0].data.people[0],a=t[1].data.stats[0].splits.splice(0,5),o=s.currentTeam.id,r=0,i=0;a.length>0&&(a.forEach((function(t){i+=parseInt(t.stat.points)/parseFloat(e.teamsInfo[t.opponent.id].gapg)})),i/=parseFloat(a.length)),e.teamsInfo[o].opponents.forEach((function(e){r+=i*e.gapg})),n.name=s.fullName,n.teamId=o,n.games=e.teamsInfo[o].opponents.length,n.score=r,n.rosterStatus=s.rosterStatus}),(function(t){e.loading=!1,e.error=!0})),e.forwardsInfo.push(n)})),this.defensemenIds.forEach((function(t){var n={name:"",games:0,score:0,teamId:0},s=[];s.push(r.a.get(e.peopleEndpoint+t)),s.push(r.a.get(e.peopleEndpoint+t+e.peopleSuffix)),Promise.all(s).then((function(t){var s=t[0].data.people[0],a=t[1].data.stats[0].splits.splice(0,5),o=s.currentTeam.id,r=e.teamsInfo[o].opponents.length,i=0,l=0;a.length>0&&(a.forEach((function(t){l+=parseInt(t.stat.points)/parseFloat(e.teamsInfo[t.opponent.id].gapg)})),l/=parseFloat(a.length)),e.teamsInfo[o].opponents.forEach((function(e){i+=l*e.gapg})),n.name=s.fullName,n.teamId=o,n.games=r,n.score=i,n.rosterStatus=s.rosterStatus}),(function(t){e.loading=!1,e.error=!0})),e.defensemenInfo.push(n)})),this.goaltendersIds.forEach((function(t){var n={name:"",games:0,score:0,teamId:0},s=[];s.push(r.a.get(e.peopleEndpoint+t)),s.push(r.a.get(e.peopleEndpoint+t+e.peopleSuffix)),Promise.all(s).then((function(t){var s=t[0].data.people[0],a=t[1].data.stats[0].splits.splice(0,5),o=s.currentTeam.id,r=e.teamsInfo[o].opponents.length,i=0,l=0,d=0;a.length>0&&(a.forEach((function(t){i+=parseInt(t.stat.goalsAgainst)/parseFloat(e.teamsInfo[t.opponent.id].gfpg)})),i/=parseFloat(a.length)),e.teamsInfo[o].opponents.forEach((function(e){l+=i*e.gfpg})),d=4*r-l,d=d<0?0:d,d=a.length>0?d:0,n.name=s.fullName,n.teamId=o,n.games=r,n.score=d,n.rosterStatus=s.rosterStatus}),(function(t){e.loading=!1,e.error=!0})),e.goaltendersInfo.push(n)})),this.loading=!1},getTeamsScheduleAndInfo:function(){var e=this,t=[],n=[];this.teamsIds.forEach((function(n){t.push(r.a.get(e.teamsEndpoint+n+e.teamsSuffix))})),this.teamsIds.forEach((function(t){n.push(r.a.get(e.scheduleEndpoint+t+"&startDate="+e.getBeginningMonday()+"&endDate="+e.getEndingSunday()))})),Promise.all(t).then((function(t){t.forEach((function(t){void 0!==t&&null!==t&&void 0!==t.data.stats[0].splits[0].stat.goalsPerGame&&null!==t.data.stats[0].splits[0].stat.goalsPerGame&&(e.teamsInfo[t.data.stats[0].splits[0].team.id]={gfpg:t.data.stats[0].splits[0].stat.goalsPerGame,gapg:t.data.stats[0].splits[0].stat.goalsAgainstPerGame})})),e.loadingMessage="Getting teams schedules",Promise.all(n).then((function(t){for(var n=0;n<t.length;n++){var s=t[n],a=e.teamsIds[n];if(void 0!==s&&null!==s&&void 0!==s.data.totalItems&&null!==s.data.totalItems){var o=[];s.data.dates.forEach((function(t){var n=t.games[0].teams.home.team.id===a,s=n?t.games[0].teams.away.team.id:t.games[0].teams.home.team.id;o.push({gfpg:e.teamsInfo[s].gfpg,gapg:e.teamsInfo[s].gapg})})),e.teamsInfo[a].opponents=o}}e.loadingMessage="Getting players info",e.getPlayersScores()}),(function(t){e.loading=!1,e.error=!0}))}),(function(t){e.loading=!1,e.error=!0}))},getBeginningMonday:function(){var e=new Date,t=e.getDay(),n=e.getDate()-t+(0===t?-6:1);return new Date(e.setDate(n)).toJSON().slice(0,10)},getEndingSunday:function(){var e=new Date,t=e.getDay(),n=e.getDate()-(0===t?7:t)+7;return new Date(e.setDate(n)).toJSON().slice(0,10)},getTeamLogo:function(e){return"statics/team-logos/"+e+".gif"},selectForward:function(e){this.selectedForwards.push(e)},unselectForward:function(e){this.selectedForwards=this.selectedForwards.filter((function(t){return t!==e}))},selectDefenseman:function(e){this.selectedDefensemen.push(e)},unselectDefenseman:function(e){this.selectedDefensemen=this.selectedDefensemen.filter((function(t){return t!==e}))},selectGoaltender:function(e){this.selectedGoaltenders.push(e)},unselectGoaltender:function(e){this.selectedGoaltenders=this.selectedGoaltenders.filter((function(t){return t!==e}))}},created:function(){this.getTeamsScheduleAndInfo()}},l=i,d=(n("0041"),n("2877")),c=n("fe09"),p=Object(d["a"])(l,s,a,!1,null,"080e4140",null);t["default"]=p.exports;p.options.components=Object.assign({QPage:c["f"],QTable:c["i"],QTr:c["n"],QTd:c["k"]},p.options.components||{})},"503e":function(e,t,n){}}]);